<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="search" type="application/opensearchdescription+xml" title="PlatON" href="/alaya-devdocs/en/opensearch.xml">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script>
<script src="/alaya-devdocs/js/custom.js"></script><title data-react-helmet="true">DApp Quick Migration Tutorial | PlatON</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://luo-dahui.github.io//alaya-devdocs/en/DApp_migrate"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="DApp Quick Migration Tutorial | PlatON"><meta data-react-helmet="true" name="description" content="In order to better support developers in migrating Ethereum DApp to Alaya, This article will first introduce the difference between Alaya and Ethereum from the perspective of developers, then introduce the general idea of ​​migrating DApp, and finally will make specific introduction about DApp contract migration and front-end migration."><meta data-react-helmet="true" property="og:description" content="In order to better support developers in migrating Ethereum DApp to Alaya, This article will first introduce the difference between Alaya and Ethereum from the perspective of developers, then introduce the general idea of ​​migrating DApp, and finally will make specific introduction about DApp contract migration and front-end migration."><meta data-react-helmet="true" property="og:image" content="https://luo-dahui.github.io//alaya-devdocs/en/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://luo-dahui.github.io//alaya-devdocs/en/img/undraw_online.svg"><link data-react-helmet="true" rel="shortcut icon" href="/alaya-devdocs/en/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://luo-dahui.github.io//alaya-devdocs/en/DApp_migrate"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//alaya-devdocs/en/DApp_migrate" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//alaya-devdocs/en/zh-CN/DApp_migrate" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://luo-dahui.github.io//alaya-devdocs/en/DApp_migrate" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/alaya-devdocs/en/assets/css/styles.ccba51f9.css">
<link rel="preload" href="/alaya-devdocs/en/assets/js/runtime~main.01de2954.js" as="script">
<link rel="preload" href="/alaya-devdocs/en/assets/js/main.afc7b004.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/alaya-devdocs/en/"><img src="/alaya-devdocs/en/img/alaya-logo.svg" alt="PlatON" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/alaya-devdocs/en/img/alaya-logo.svg" alt="PlatON" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span>English</span></a><ul class="dropdown__menu"><li><a href="/alaya-devdocs/en/DApp_migrate" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/alaya-devdocs/zh-CN/DApp_migrate" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/alaya-devdocs/en/"><img src="/alaya-devdocs/en/img/alaya-logo.svg" alt="PlatON" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/alaya-devdocs/en/img/alaya-logo.svg" alt="PlatON" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span>Languages</span></a><ul class="menu__list"><li class="menu__list-item"><a href="/alaya-devdocs/en/DApp_migrate" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/alaya-devdocs/zh-CN/DApp_migrate" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">中文</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/alaya-devdocs/en/">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/alaya-devdocs/en/Glossary">Glossary</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Intro_to_Alaya">Intro to Alaya</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Intro_to_ATP">Intro to ATP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/staking_and_delegation">Staking&amp;Delegation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Networks">Networks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Alaya_Account">Alaya Account</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Economic_model">Economic Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Consensus_mechanism">Consensus mechanism</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Governance_mechanism">Governance mechanism</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Alaya Node</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Intro_to_validator">Intro to validator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Run_a_fullnode">Run a fullnode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Become_Validator">Staking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Data_snapshot">Data snapshot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Tools for nodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Online_MTool">Online MTool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Offline_MTool">Offline MTool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Command_Line_Tools">Alaya Command line tools</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Development_guide">Development guide</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Set up local environment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Join_the_dev_network">Join the dev network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Run_a_dev_node">Run a dev node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Private_network">Private network</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Dev Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Alaya-Truffle">Alaya-Truffle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/IDE">IDE</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Smart contract</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Solidity contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Solidity_Getting_started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Solidity_Migration_tutorial">Migration tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Solidity_Development_costs">Development costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Solidity_Best_practices">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Solidity_Contract_security">Contract security</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Wasm contract</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Wasm_Getting_started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Wasm_Development_costs">Development costs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Wasm_Best_practices">Best practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Wasm_API">Wasm API</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/JS_SDK">JS SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Java_SDK">Java SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Python_SDK">Python SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Go_SDK">Go SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Json_Rpc">JSON RPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Explorer_API">Explorer API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Samurai_API">Samurai API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">ARC Token</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/ARC20">ARC20</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/ARC721">ARC721</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/alaya-devdocs/en/JS-Tutorials">Getting Started with JS SDK</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/alaya-devdocs/en/DApp_migrate">DApp Quick Migration Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data and analytics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/AlayScan">AlayScan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/PlatEye">PlatEye</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wallet</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Wallet_Guide">Wallet Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/ATON_user_manual">ATON Wallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Samurai_user_manual">Samurai</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Join_the_Community">Join the Community</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Ecosystem_Programs">Ecosystem Programs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Ways_to_contribute">Ways to contribute</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/alaya-devdocs/en/Contribution_Guidelines">Contribution Tutorial</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">DApp Quick Migration Tutorial</h1></header><p>In order to better support developers in migrating Ethereum DApp to Alaya, This article will first introduce the difference between Alaya and Ethereum from the perspective of developers, then introduce the general idea of ​​migrating DApp, and finally will make specific introduction about DApp contract migration and front-end migration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="difference-between-alaya-and-ethereum"></a>Difference between Alaya and Ethereum<a class="hash-link" href="#difference-between-alaya-and-ethereum" title="Direct link to heading">#</a></h2><p>Dapp developers no need to pay attention to the differences in the underlying technology. But only need to note following differences:</p><ul><li>The RPC methods exposed by Alaya and Ethereum are basically the same. The difference is the prefix of the rpc method name. The prefix of the Alaya network is <code>platon_</code></li><li>The address type of the Alaya network is the <code>bech32</code> address type, it is a string prefixed with <code>atp</code>, which is different from the <code>0x</code> prefix address of Ethereum</li><li>Alaya&#x27;s block generation is faster than Ethereum, which is about 1 second for a block, so the timestamp of the block in Alaya is in milliseconds, and the timestamp of the block in Ethereum is in seconds.</li><li>Alaya network currently does not have infrua similar services, currently there is only one <a href="https://openapi.alaya.network/rpc" target="_blank" rel="noopener noreferrer">https://openapi.alaya.network/rpc</a> interface service externally</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dapp-migration-ideas"></a>DApp migration ideas<a class="hash-link" href="#dapp-migration-ideas" title="Direct link to heading">#</a></h2><p>In order to successfully migrate DApp, you can refer to the following migration ideas:</p><ol><li>First find out the main functions of the DApp itself, and sort the functions base on the function dependency relationship. Taking uniswap as an example, founctions dependency order is: connect to the samurai wallet -&gt; swap UI able to display tokens and display balance -&gt; able to create trading pairs and add liquidity -&gt; able to swap successfully -&gt; able to remove liquidity.</li><li>Follow the &quot;DApp contract migration&quot; section below to migrate DApp related contracts and deploy them to your Alaya test network.</li><li>According to the first step, sort out the functional dependencies and the following &quot;DApp front-end migration&quot;, and debug through each function.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dapp-contract-migration"></a>DApp contract migration<a class="hash-link" href="#dapp-contract-migration" title="Direct link to heading">#</a></h2><p>The contract migration and modification points mainly are:</p><ol><li><p>Alaya supports four versions of solidity: 0.4.26, 0.5.17, 0.6.12, and 0.7.1. If you are migrating a contract with a version above 0.7.1, you need to reduce the version number and remove the syntax from the higher version. For example, you can use the 0.5.17 version with the following statement:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pragma solidity </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token number" style="color:rgb(247, 140, 108)">.17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>The currency units in Alaya smart contracts are ATP and VON. To migrate Ethereum smart contracts to Alaya, change the currency of Ether to Alaya currency. And pay attention to the Ether/ATP market exchange rate.</p></li><li><p>The 0x address is able to converted to the ATP address by the <code>keytool</code>, and the 0x address is replacable by the atp address. Addresses to replaced is base on the business logic. Also use <code>address(uint160(0))</code> instead of <code>address(0)</code>. E.g:</p><p>Change following statement:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">IUniswapV2Factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getPair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tokenA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tokenB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Into:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">IUniswapV2Factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">factory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getPair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tokenA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tokenB</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">uint160</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>In the Alaya smart contract, <code>block.timestamp</code> represents the timestamp of the current block in milliseconds, while Ethereum uses seconds as the unit. Whether <code>block.timestamp</code> needs to be modified or not is base on business logic. In the uniswap migration, the timestamp in the contract is not modified, but in front-end, the timeout period changed from seconds to milliseconds.</p></li><li><p>For contract development guidelines, please refer to <a href="https://devdocs.alaya.network/alaya-devdocs/en/EVM_Smart_Contract/" target="_blank" rel="noopener noreferrer">EVM Smart Contract</a></p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dapp-front-end-interface-migration"></a>DApp front-end interface migration<a class="hash-link" href="#dapp-front-end-interface-migration" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-the-way-to-connect-to-the-wallet"></a>Update the way to connect to the wallet<a class="hash-link" href="#update-the-way-to-connect-to-the-wallet" title="Direct link to heading">#</a></h3><p>Samurai use <code>window.alaya</code> in order not to conflict with the <code>window.ethereum</code> of metamask. In addition, the interface with prefix of <code>eth_</code> was changed to <code>platon_</code>, for example: <code>eth_requestAccounts</code> was changed to <code>platon_requestAccounts</code>. Therefore, the code to connect to the wallet needs to be modified. For Samurai developer documentation, please refer to: <a href="https://devdocs.alaya.network/alaya-devdocs/en/Samurai_API" target="_blank" rel="noopener noreferrer">https://devdocs.alaya.network/alaya-devdocs/en/Samurai_API</a> 。</p><p>During the migration of uniswap, the injected-connector package of the project <a href="https://github.com/NoahZinsmeister/web3-react" target="_blank" rel="noopener noreferrer">https://github.com/NoahZinsmeister/web3-react</a> was modified, please refer to the github commit <a href="https://github.com/" target="_blank" rel="noopener noreferrer">https://github.com/</a> AlayaNetwork/aswap-web3-react/commits/alaya-v6.1.1 .</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-dependencies"></a>Update dependencies<a class="hash-link" href="#update-dependencies" title="Direct link to heading">#</a></h3><ul><li><p>If the application itself is connected to the Ethereum node, in order to find problems in time, it needs to be modified to connect to the Alaya node.</p></li><li><p>After connected to the Samurai wallet, debug each function according to the function business dependencies order, and locate the dependent packages that need to be modified according to the error output of the Chrome devtool console.</p></li></ul><ul><li><p>Many Dapp developments will need third-party npm packages of Ethereum. These packages may involve address related or rpc call related functions. These packages may not able to support your migration successfully. During the migration process of samurai and uniswap, we have modified and released some npm packages. You may consider replacing those packages with packages that support the Alaya network. If there&#x27;s no existing package to use, you may need to consider making some modifications before publishing. Alaya&#x27;s released dependency packages can be found in <a href="https://github.com/AlayaNetwork" target="_blank" rel="noopener noreferrer">Alaya github</a> and <a href="https://www.npmjs.com/search?q=%40alayanetwork" target="_blank" rel="noopener noreferrer">Alaya npm repository</a>.</p><p>The list of released packages is as follows:</p><ol><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-method-registry" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-method-registry</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-ens" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-ens</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-simple-keyring" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-simple-keyring</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-hd-keyring" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-hd-keyring</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-query" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-query</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-block-tracker" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-block-tracker</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-contract" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-contract</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-format" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-format</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-json-rpc-filters" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-json-rpc-filters</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/nonce-tracker" target="_blank" rel="noopener noreferrer">@alayanetwork/nonce-tracker</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-provider-engine" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-provider-engine</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-abi" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-abi</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-providers-http" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-providers-http</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-net" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-net</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-providers-ws" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-providers-ws</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-utils" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-utils</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core-helpers" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core-helpers</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethereumjs-util" target="_blank" rel="noopener noreferrer">@alayanetwork/ethereumjs-util</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-contract" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-contract</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-keyring-controller" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-keyring-controller</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core-subscriptions" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core-subscriptions</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-abi" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-abi</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethereumjs-tx" target="_blank" rel="noopener noreferrer">@alayanetwork/ethereumjs-tx</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-iban" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-iban</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-providers-ipc" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-providers-ipc</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-accounts" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-accounts</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-personal" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-personal</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-eth-ens" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-eth-ens</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-sig-util" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-sig-util</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethjs-schema" target="_blank" rel="noopener noreferrer">@alayanetwork/ethjs-schema</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/rpc-cap" target="_blank" rel="noopener noreferrer">@alayanetwork/rpc-cap</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-token-tracker" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-token-tracker</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/etherscan-link" target="_blank" rel="noopener noreferrer">@alayanetwork/etherscan-link</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/uniswap-v2-periphery" target="_blank" rel="noopener noreferrer">@alayanetwork/uniswap-v2-periphery</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-query" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-query</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/controllers" target="_blank" rel="noopener noreferrer">@alayanetwork/controllers</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/inpage-provider" target="_blank" rel="noopener noreferrer">@alayanetwork/inpage-provider</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/forwarder" target="_blank" rel="noopener noreferrer">@alayanetwork/forwarder</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/eth-json-rpc-middleware" target="_blank" rel="noopener noreferrer">@alayanetwork/eth-json-rpc-middleware</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/uniswap-sdk" target="_blank" rel="noopener noreferrer">@alayanetwork/uniswap-sdk</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ganache-core" target="_blank" rel="noopener noreferrer">@alayanetwork/ganache-core</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core-promievent" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core-promievent</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core-requestmanager" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core-requestmanager</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core-method" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core-method</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-core" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-core</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3" target="_blank" rel="noopener noreferrer">@alayanetwork/web3</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-react-core" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-react-core</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/web3-react-injected-connector" target="_blank" rel="noopener noreferrer">@alayanetwork/web3-react-injected-connector</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-solidity" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-solidity</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-contracts" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-contracts</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-bytes" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-bytes</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-abi" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-abi</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-providers" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-providers</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/ethers-address" target="_blank" rel="noopener noreferrer">@alayanetwork/ethers-address</a></li><li><a href="https://www.npmjs.com/package/@alayanetwork/token-lists" target="_blank" rel="noopener noreferrer">@alayanetwork/token-lists</a></li></ol></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="modification-of-dapp-own-code"></a>Modification of DApp own code<a class="hash-link" href="#modification-of-dapp-own-code" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rpc-method-and-parameters-of-alaya-backend"></a>RPC method and parameters of Alaya backend<a class="hash-link" href="#rpc-method-and-parameters-of-alaya-backend" title="Direct link to heading">#</a></h4><ul><li>The RPC method supported by the Alaya network starts with platon_ (such as: platon_sendTransaction)</li><li>The parameter types of some specific rpc interfaces may be inconsistent, especially the address type. Best thing to do is to refer to Alaya&#x27;s [Developer Documentation] when developing(<a href="https://devdocs.alaya.network/alaya-devdocs/en/Json_Rpc/" target="_blank" rel="noopener noreferrer">https://devdocs.alaya.network/alaya-devdocs/en/Json_Rpc/</a>)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="about-address"></a>About Address<a class="hash-link" href="#about-address" title="Direct link to heading">#</a></h4><ul><li><p>When calling RPC, if the parameter is an address type, you need to make sure to use bech32 address type. For example, if a contract address of 0x is obtained in the program, it needs to be converted into a bech32 address before use, as shown in the following code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pair</span><span class="token operator" style="color:rgb(137, 221, 255)">?.</span><span class="token plain">liquidityToken</span><span class="token operator" style="color:rgb(137, 221, 255)">?.</span><span class="token plain">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> hrp </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> chainId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;201018&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;atp&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;atx&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    contractAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">toBech32Address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">hrp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">pair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">liquidityToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>When it comes to encoding parameters (such as encodeParam method), you may need to consider converting the bech32 address type parameter to 0x type before encoding, the address check also needs to be modified. For example, the following logic is added when encoding uniswap contract parameters:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">callInputs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    callInputs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> callInputs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">callInput</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> callInput </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;string&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">isBech32Address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">callInput</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">decodeBech32Address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">callInput</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> callInput</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="alaya-development-and-debugging-tools"></a>Alaya development and debugging tools<a class="hash-link" href="#alaya-development-and-debugging-tools" title="Direct link to heading">#</a></h2><p>Please refer to <a href="https://devdocs.alaya.network/alaya-devdocs/en/" target="_blank" rel="noopener noreferrer">Alaya Development Documentation</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metamask-and-uniswap-migration-experience-summary"></a>Metamask and uniswap migration experience summary<a class="hash-link" href="#metamask-and-uniswap-migration-experience-summary" title="Direct link to heading">#</a></h2><ul><li><p>Dapp generally has some feature sets. We can divide milestones according to these features. For example, for metamask:</p><ul><li>Successfully import mnemonic words or create a wallet to enter the main UI</li><li>Enter the main UI, the address shows the bech32 address and the balance can be successfully obtained and displayed</li><li>Able to successfully send native tokens from one account to another account</li><li>Able to search for tokens and add them successfully, displaying the balance of tokens</li><li>Token can be sent successfully</li></ul><p>In each of these milestones, most of the problems that appear may be the problems mentioned above that require attention. We can directly modify the source code of packages to make the whole process working, and then save the modification of packages for release packages later.</p></li><li><p>Normally, the core business process of Dapp are no need to change, but we still have to try to understand the basic business flow, which is beneficial for debugging.</p></li><li><p>Observe whether there are any network requests and the result of the network requests in the browser developer tool</p></li><li><p>In some cases, the actual error may be intercepted and processed in a certain place. The error finally seen is not the error originally thrown. In this case, you will need to debug to find out the initial error message and stack trace before processing.</p></li><li><p>Some errors may be tricky if you don’t have enough understanding of the alaya network or even the underlying knowledge. In this case, it is recommended to consult or discuss with experienced developers in the community.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="uniswap-migration-reference"></a>uniswap migration reference<a class="hash-link" href="#uniswap-migration-reference" title="Direct link to heading">#</a></h3><p>Uniswap migration reference front-end project：<a href="https://github.com/treelaketreelake/swap-frontend" target="_blank" rel="noopener noreferrer">https://github.com/treelaketreelake/swap-frontend</a></p><p>Uniswap migration reference contract project：<a href="https://github.com/treelaketreelake/swap-contracts" target="_blank" rel="noopener noreferrer">https://github.com/treelaketreelake/swap-contracts</a></p><p><em>English Translation Contributors @<a href="https://github.com/WillXing" target="_blank" rel="noopener noreferrer">WillXing</a></em></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/AlayaNetwork/alaya-devdocs/tree/main/website/docs/DApp_migrate.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/alaya-devdocs/en/JS-Tutorials"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Getting Started with JS SDK</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/alaya-devdocs/en/AlayScan"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AlayScan »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#difference-between-alaya-and-ethereum" class="table-of-contents__link">Difference between Alaya and Ethereum</a></li><li><a href="#dapp-migration-ideas" class="table-of-contents__link">DApp migration ideas</a></li><li><a href="#dapp-contract-migration" class="table-of-contents__link">DApp contract migration</a></li><li><a href="#dapp-front-end-interface-migration" class="table-of-contents__link">DApp front-end interface migration</a><ul><li><a href="#update-the-way-to-connect-to-the-wallet" class="table-of-contents__link">Update the way to connect to the wallet</a></li><li><a href="#update-dependencies" class="table-of-contents__link">Update dependencies</a></li><li><a href="#modification-of-dapp-own-code" class="table-of-contents__link">Modification of DApp own code</a></li></ul></li><li><a href="#alaya-development-and-debugging-tools" class="table-of-contents__link">Alaya development and debugging tools</a></li><li><a href="#metamask-and-uniswap-migration-experience-summary" class="table-of-contents__link">Metamask and uniswap migration experience summary</a><ul><li><a href="#uniswap-migration-reference" class="table-of-contents__link">uniswap migration reference</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.alaya.network/en" target="_blank" class="footer-logo-home" rel="noreferrer noopener"><img src="/alaya-devdocs/en/img/alaya-logo.svg" width="66" height="58"></a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.alaya.network/en" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://www.alaya.network/">Alaya network</a></li><li class="footer__item"><a href="https://latticex.foundation/home" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://latticex.foundation/home">LatticeX.Foundation</a></li><li class="footer__item"><a href="https://forum.latticex.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item" hrefzh="https://forum.latticex.foundation/">Forum</a></li></ul></div><div class="gitstar"><a class="github-button" href="https://github.com/PlatONnetwork/PlatON-Go" data-color-scheme="no-preference: light; light: light; dark: light;" data-icon="octicon-star" data-size="small" data-show-count="true" aria-label="Star PlatONnetwork/PlatON-Go on GitHub">Star</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">COPYRIGHT  © 2021 Alaya NETWORK.</div></div></div></footer></div>
<script src="/alaya-devdocs/en/assets/js/runtime~main.01de2954.js"></script>
<script src="/alaya-devdocs/en/assets/js/main.afc7b004.js"></script>
</body>
</html>